<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml"
    creationComplete="initApp();">

    <mx:Script>
        <![CDATA[
            import mx.events.DragEvent;
            import mx.managers.DragManager;
            import mx.core.DragSource;
            import mx.collections.IList;
            import mx.collections.ArrayCollection;

            private function initApp():void {
                srcList.dataProvider = new ArrayCollection([
                    {label:"First", data:"1"},
                    {label:"Second", data:"2"},
                    {label:"Third", data:"3"},
                    {label:"Fourth", data:"4"},
                ]);

                destDG.dataProvider = new ArrayCollection([]);
            }

            private function dragDropHandler(event:DragEvent):void {
              if (event.dragSource.hasFormat("items"))
              {
                // Explicitly handle the dragDrop event.
                event.preventDefault();

                // Since you are explicitly handling the dragDrop event,
                // call hideDropFeedback(event) to have the drop target
                // hide the drop indicator.
                // The drop indicator is created
                // automatically for the list controls by the built-in
                // event handler for the dragOver event.
                event.currentTarget.hideDropFeedback(event);

                // Get drop target.
                var dropTarget:DataGrid =
                  DataGrid(event.currentTarget);

                var itemsArray:Array =
                    event.dragSource.dataForFormat('items') as Array;
                var tempItem:Object =
                    { label: itemsArray[0].label,
                      data: itemsArray[0].data,
                      date: new Date()
                    };

                // Get the drop location in the destination.
                var dropLoc:int = dropTarget.calculateDropIndex(event);

                IList(dropTarget.dataProvider).addItemAt(tempItem, dropLoc);
              }
            }
        ]]>
    </mx:Script>

    <mx:HBox>
        <mx:List  id="srcList"
            dragEnabled="true"
            dragMoveEnabled="true"/>

        <mx:DataGrid  id="destDG"
            dropEnabled="true"
            dragDrop="dragDropHandler(event);">
            <mx:columns>
                <mx:DataGridColumn dataField="label"/>
                <mx:DataGridColumn dataField="data"/>
                <mx:DataGridColumn dataField="date"/>
            </mx:columns>
        </mx:DataGrid>
    </mx:HBox>

    <mx:Button id="b1"
        label="Reset"
        click="initApp()"
    />

</mx:Application>

